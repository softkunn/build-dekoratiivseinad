import{d as va,w as fa,t as U,e as j,a as q,s as M}from"../chunks/jCb-5fpo.js";import{i as Q}from"../chunks/D0HvGCRZ.js";import{aL as ua,aM as da,aN as pa,d as ga,h as H,b as _a,l as ma,k as ha,m as ba,U as wa,J as V,E as $a,aO as ya,aP as ka,a2 as xa,a4 as Ia,aQ as Ta,aR as Na,aS as Oa,aT as Ea,G as Sa,n as F,az as Y,aA as aa,aB as Aa,a0 as La,p as W,a6 as J,a7 as ra,t as B,a as Z,y as E,a8 as C,c as b,s as L,r as h,v as g,C as na,f as Ca,a9 as Fa}from"../chunks/SkWQW7eQ.js";import{a as R,p as ia,s as Ra}from"../chunks/Be7QwHBB.js";import{b as P,g as Pa,a as qa}from"../chunks/B5l78-qt.js";import{p as Ua}from"../chunks/ZIeiyP4q.js";import{s as O}from"../chunks/BVJA58gI.js";import{a as oa,s as la}from"../chunks/CPlPh3xZ.js";import{t as G}from"../chunks/BAGoIGXF.js";import{e as za,i as Da}from"../chunks/BflKyTS-.js";function Ma(t,a,e){H&&_a();var s=t,i=wa,n,u=ua()?da:pa;ga(()=>{u(i,i=a())&&(n&&ma(n),n=ha(()=>e(s)))}),H&&(s=ba)}const ja=()=>performance.now(),T={tick:t=>requestAnimationFrame(t),now:()=>ja(),tasks:new Set};function ca(){const t=T.now();T.tasks.forEach(a=>{a.c(t)||(T.tasks.delete(a),a.f())}),T.tasks.size!==0&&T.tick(ca)}function Ba(t){let a;return T.tasks.size===0&&T.tick(ca),{promise:new Promise(e=>{T.tasks.add(a={c:t,f:e})}),abort(){T.tasks.delete(a)}}}function D(t,a){fa(()=>{t.dispatchEvent(new CustomEvent(a))})}function Ga(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const a=t.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function ta(t){const a={},e=t.split(";");for(const s of e){const[i,n]=s.split(":");if(!i||n===void 0)break;const u=Ga(i.trim());a[u]=n.trim()}return a}const Xa=t=>t;function ea(t,a,e,s){var i=(t&Na)!==0,n=(t&Oa)!==0,u=i&&n,y=(t&Ta)!==0,I=u?"both":i?"in":"out",_,d=a.inert,k=a.style.overflow,v,c;function m(){var l=Aa,w=V;Y(null),aa(null);try{return _??(_=e()(a,(s==null?void 0:s())??{},{direction:I}))}finally{Y(l),aa(w)}}var o={is_global:y,in(){var l;if(a.inert=d,!i){c==null||c.abort(),(l=c==null?void 0:c.reset)==null||l.call(c);return}n||v==null||v.abort(),D(a,"introstart"),v=K(a,m(),c,1,()=>{D(a,"introend"),v==null||v.abort(),v=_=void 0,a.style.overflow=k})},out(l){if(!n){l==null||l(),_=void 0;return}a.inert=!0,D(a,"outrostart"),c=K(a,m(),v,0,()=>{D(a,"outroend"),l==null||l()})},stop:()=>{v==null||v.abort(),c==null||c.abort()}},r=V;if((r.transitions??(r.transitions=[])).push(o),i&&va){var f=y;if(!f){for(var p=r.parent;p&&(p.f&$a)!==0;)for(;(p=p.parent)&&(p.f&ya)===0;);f=!p||(p.f&ka)!==0}f&&xa(()=>{Ia(()=>o.in())})}}function K(t,a,e,s,i){var n=s===1;if(Ea(a)){var u,y=!1;return Sa(()=>{if(!y){var r=a({direction:n?"in":"out"});u=K(t,r,e,s,i)}}),{abort:()=>{y=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(e==null||e.deactivate(),!(a!=null&&a.duration))return i(),{abort:F,deactivate:F,reset:F,t:()=>s};const{delay:I=0,css:_,tick:d,easing:k=Xa}=a;var v=[];if(n&&e===void 0&&(d&&d(0,1),_)){var c=ta(_(0,1));v.push(c,c)}var m=()=>1-s,o=t.animate(v,{duration:I});return o.onfinish=()=>{var r=(e==null?void 0:e.t())??1-s;e==null||e.abort();var f=s-r,p=a.duration*Math.abs(f),l=[];if(p>0){var w=!1;if(_)for(var $=Math.ceil(p/16.666666666666668),x=0;x<=$;x+=1){var S=r+f*k(x/$),N=ta(_(S,1-S));l.push(N),w||(w=N.overflow==="hidden")}w&&(t.style.overflow="hidden"),m=()=>{var z=o.currentTime;return r+f*k(z/p)},d&&Ba(()=>{if(o.playState!=="running")return!1;var z=m();return d(z,1-z),!0})}o=t.animate(l,{duration:p,fill:"forwards"}),o.onfinish=()=>{m=()=>s,d==null||d(s,1-s),i()}},{abort:()=>{o&&(o.cancel(),o.effect=null,o.onfinish=F)},deactivate:()=>{i=F},reset:()=>{s===0&&(d==null||d(1,0))},t:()=>m()}}const Ja=!0,Ka="always";function Qa({url:t}){const a=["et","en","ru"],e=t.pathname.split("/");let s="et";return e[1]==="build-dekoratiivseinad"?s=e[2]:s=e[1],{lang:a.includes(s)?s:"et"}}const ut=Object.freeze(Object.defineProperty({__proto__:null,load:Qa,prerender:Ja,trailingSlash:Ka},Symbol.toStringTag,{value:"Module"})),A={contacts:"contacts",gallery:"gallery"},sa=La(0);var Wa=U('<li class="svelte-o1suv9"><a class="svelte-o1suv9"><img class="flag-icon svelte-o1suv9"></a></li>'),Za=U('<div class="dropdown svelte-o1suv9"><button class="dropdown-btn svelte-o1suv9"><img class="flag-icon svelte-o1suv9"><span class="arrow svelte-o1suv9"> </span></button> <ul></ul></div>');function Ha(t,a){W(a,!1);const[e,s]=oa(),i=()=>la(ia,"$page",e),n=C();let u=["et","en","ru"];const y={et:"https://flagcdn.com/w40/ee.png",en:"https://flagcdn.com/w40/ms.png",ru:"https://flagcdn.com/w40/ru.png"};function I(l){return l==="et"?`${P}/`:`${P}/${l}/`}let _=C(!1);function d(){E(_,!g(_))}function k(l,w){d(),Pa(I(w))}J(()=>i(),()=>{E(n,i().data.lang??"et")}),ra(),Q();var v=Za(),c=b(v),m=b(c),o=L(m),r=b(o,!0);h(o),h(c);var f=L(c,2);let p;za(f,5,()=>u,Da,(l,w)=>{var $=Wa(),x=b($),S=b(x);h(x),h($),B(N=>{O(x,"href",N),O(S,"src",y[g(w)]),O(S,"alt",g(w))},[()=>I(g(w))],na),j("click",x,N=>k(N,g(w))),q(l,$)}),h(f),h(v),B(()=>{O(m,"src",y[g(n)]),O(m,"alt",g(n)),M(r,g(_)?" ▼":" ▲"),p=R(f,1,"dropdown-menu svelte-o1suv9",null,p,{open:g(_)})}),j("click",c,d),q(t,v),Z(),s()}var Va=U('<nav class="svelte-1r0tsoa"><!> <ul class="svelte-1r0tsoa"><li><a> </a></li> <li><a> </a></li> <li><a> </a></li></ul></nav>');function Ya(t,a){W(a,!1);const[e,s]=oa(),i=()=>la(ia,"$page",e),n=C(),u=C();J(()=>i(),()=>{E(n,i().data.lang??"et")}),J(()=>g(n),()=>{E(u,g(n)!=="et"?`/${g(n)}`:"")}),ra(),Q();var y=Va(),I=b(y);Ha(I,{});var _=L(I,2),d=b(_),k=b(d);let v;var c=b(k,!0);h(k),h(d);var m=L(d,2),o=b(m);let r;var f=b(o,!0);h(o),h(m);var p=L(m,2),l=b(p);let w;var $=b(l,!0);h(l),h(p),h(_),h(y),B((x,S,N)=>{v=R(k,1,"btn svelte-1r0tsoa",null,v,{"is-active":x}),O(k,"href",`${P??""}${g(u)??""}/`),M(c,G[g(n)].home),r=R(o,1,"btn svelte-1r0tsoa",null,r,{"is-active":S}),O(o,"href",`${P??""}${g(u)??""}/${A.gallery}`),M(f,G[g(n)].gallery),w=R(l,1,"btn svelte-1r0tsoa",null,w,{"is-active":N}),O(l,"href",`${P??""}${g(u)??""}/${A.contacts}`),M($,G[g(n)].contacts)},[()=>!i().url.pathname.includes(A.gallery)&&!i().url.pathname.includes(A.contacts),()=>i().url.pathname.includes(A.gallery),()=>i().url.pathname.includes(A.contacts)],na),q(t,y),Z(),s()}function X(t){const a=t-1;return a*a*a+1}var at=U("<div><!></div>"),tt=U('<!> <div class="page-switcher"><div class="page-wrapper"><!> <div class="page-shadow"></div></div></div>',1);function dt(t,a){W(a,!1);let e=0;sa.subscribe(o=>{e=o});const s=["home","gallery","contacts"];let i=C(!1),n=C(!1);function u(){E(i,!0),E(n,!1)}function y(){E(n,!1)}qa(({from:o,to:r})=>{if(o&&r){const f=o.url.pathname.split("/"),p=r.url.pathname.split("/"),l=s.findIndex(x=>f.includes(x));let $=s.findIndex(x=>p.includes(x))-l;$>0?$=1:$<0&&($=-1),sa.set($),$!==0&&E(n,!0)}});function I(o,{duration:r=300}){return{duration:r,css:f=>`
				transform: translateX(${(1-X(f))*100*e}%);
				opacity: ${X(f)};
			`}}function _(o,{duration:r=300}){return{duration:r,css:f=>`
				transform: translateX(${(1-X(f))*-100*e}%);
			`}}Q();var d=tt(),k=Ca(d);Ya(k,{});var v=L(k,2),c=b(v),m=b(c);Ma(m,()=>Ua.url,o=>{var r=at();let f;var p=b(r);Ra(p,a,"default",{}),h(r),B(()=>f=R(r,1,"page-container",null,f,{entering:g(i),leaving:g(n)})),ea(1,r,()=>I,()=>({duration:300})),ea(2,r,()=>_,()=>({duration:300})),j("introstart",r,u),j("outroend",r,y),q(o,r)}),Fa(2),h(c),h(v),q(t,d),Z()}export{dt as component,ut as universal};
