import{d as va,w as fa,t as q,e as j,a as U,s as M}from"../chunks/CuNxo2kS.js";import{i as Q}from"../chunks/DnwibDjS.js";import{aM as ua,aN as da,aO as pa,d as ga,h as H,b as _a,l as ha,k as ma,m as ba,U as wa,z as J,E as $a,aP as ya,aQ as ka,V as xa,X as Ia,aR as Ta,aS as Na,aT as Oa,aU as Ea,y as Sa,Z as L,aA as Y,aB as aa,aC as Aa,S as Ca,p as V,a3 as G,a4 as ra,t as B,a as W,a2 as E,a5 as F,c as b,s as C,r as m,u as g,v as na,f as Fa,a7 as La}from"../chunks/BxzKXbua.js";import{s as O,b as R,a as Ra}from"../chunks/CsjEL-Gr.js";import{b as P,g as Pa,a as Ua}from"../chunks/DV-r7DiC.js";import{p as qa}from"../chunks/DJHTHrDu.js";import{a as ia,s as oa}from"../chunks/iieZUfzm.js";import{p as la,t as X}from"../chunks/D1w93_6W.js";import{e as za,i as Da}from"../chunks/CXDn2V02.js";function Ma(t,a,e){H&&_a();var s=t,i=wa,n,u=ua()?da:pa;ga(()=>{u(i,i=a())&&(n&&ha(n),n=ma(()=>e(s)))}),H&&(s=ba)}const ja=()=>performance.now(),T={tick:t=>requestAnimationFrame(t),now:()=>ja(),tasks:new Set};function ca(){const t=T.now();T.tasks.forEach(a=>{a.c(t)||(T.tasks.delete(a),a.f())}),T.tasks.size!==0&&T.tick(ca)}function Ba(t){let a;return T.tasks.size===0&&T.tick(ca),{promise:new Promise(e=>{T.tasks.add(a={c:t,f:e})}),abort(){T.tasks.delete(a)}}}function D(t,a){fa(()=>{t.dispatchEvent(new CustomEvent(a))})}function Xa(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const a=t.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function ta(t){const a={},e=t.split(";");for(const s of e){const[i,n]=s.split(":");if(!i||n===void 0)break;const u=Xa(i.trim());a[u]=n.trim()}return a}const Za=t=>t;function ea(t,a,e,s){var i=(t&Na)!==0,n=(t&Oa)!==0,u=i&&n,y=(t&Ta)!==0,I=u?"both":i?"in":"out",_,d=a.inert,k=a.style.overflow,v,c;function h(){var l=Aa,w=J;Y(null),aa(null);try{return _??(_=e()(a,(s==null?void 0:s())??{},{direction:I}))}finally{Y(l),aa(w)}}var o={is_global:y,in(){var l;if(a.inert=d,!i){c==null||c.abort(),(l=c==null?void 0:c.reset)==null||l.call(c);return}n||v==null||v.abort(),D(a,"introstart"),v=K(a,h(),c,1,()=>{D(a,"introend"),v==null||v.abort(),v=_=void 0,a.style.overflow=k})},out(l){if(!n){l==null||l(),_=void 0;return}a.inert=!0,D(a,"outrostart"),c=K(a,h(),v,0,()=>{D(a,"outroend"),l==null||l()})},stop:()=>{v==null||v.abort(),c==null||c.abort()}},r=J;if((r.transitions??(r.transitions=[])).push(o),i&&va){var f=y;if(!f){for(var p=r.parent;p&&(p.f&$a)!==0;)for(;(p=p.parent)&&(p.f&ya)===0;);f=!p||(p.f&ka)!==0}f&&xa(()=>{Ia(()=>o.in())})}}function K(t,a,e,s,i){var n=s===1;if(Ea(a)){var u,y=!1;return Sa(()=>{if(!y){var r=a({direction:n?"in":"out"});u=K(t,r,e,s,i)}}),{abort:()=>{y=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(e==null||e.deactivate(),!(a!=null&&a.duration))return i(),{abort:L,deactivate:L,reset:L,t:()=>s};const{delay:I=0,css:_,tick:d,easing:k=Za}=a;var v=[];if(n&&e===void 0&&(d&&d(0,1),_)){var c=ta(_(0,1));v.push(c,c)}var h=()=>1-s,o=t.animate(v,{duration:I});return o.onfinish=()=>{var r=(e==null?void 0:e.t())??1-s;e==null||e.abort();var f=s-r,p=a.duration*Math.abs(f),l=[];if(p>0){var w=!1;if(_)for(var $=Math.ceil(p/16.666666666666668),x=0;x<=$;x+=1){var S=r+f*k(x/$),N=ta(_(S,1-S));l.push(N),w||(w=N.overflow==="hidden")}w&&(t.style.overflow="hidden"),h=()=>{var z=o.currentTime;return r+f*k(z/p)},d&&Ba(()=>{if(o.playState!=="running")return!1;var z=h();return d(z,1-z),!0})}o=t.animate(l,{duration:p,fill:"forwards"}),o.onfinish=()=>{h=()=>s,d==null||d(s,1-s),i()}},{abort:()=>{o&&(o.cancel(),o.effect=null,o.onfinish=L)},deactivate:()=>{i=L},reset:()=>{s===0&&(d==null||d(1,0))},t:()=>h()}}const Ga=!0,Ka="always";function Qa({url:t}){const a=["et","en","ru"],e=t.pathname.split("/");let s="et";return e[1]==="build-dekoratiivseinad"?s=e[2]:s=e[1],{lang:a.includes(s)?s:"et"}}const ft=Object.freeze(Object.defineProperty({__proto__:null,load:Qa,prerender:Ga,trailingSlash:Ka},Symbol.toStringTag,{value:"Module"})),A={contacts:"contacts",gallery:"gallery"},sa=Ca(0);var Va=q('<li class="svelte-o1suv9"><a class="svelte-o1suv9"><img class="flag-icon svelte-o1suv9"></a></li>'),Wa=q('<div class="dropdown svelte-o1suv9"><button class="dropdown-btn svelte-o1suv9"><img class="flag-icon svelte-o1suv9"><span class="arrow svelte-o1suv9"> </span></button> <ul></ul></div>');function Ha(t,a){V(a,!1);const[e,s]=ia(),i=()=>oa(la,"$page",e),n=F();let u=["et","en","ru"];const y={et:"https://flagcdn.com/w40/ee.png",en:"https://flagcdn.com/w40/ms.png",ru:"https://flagcdn.com/w40/ru.png"};function I(l){return l==="et"?`${P}/`:`${P}/${l}/`}let _=F(!1);function d(){E(_,!g(_))}function k(l,w){d(),Pa(I(w))}G(()=>i(),()=>{E(n,i().data.lang??"et")}),ra(),Q();var v=Wa(),c=b(v),h=b(c),o=C(h),r=b(o,!0);m(o),m(c);var f=C(c,2);let p;za(f,5,()=>u,Da,(l,w)=>{var $=Va(),x=b($),S=b(x);m(x),m($),B(N=>{O(x,"href",N),O(S,"src",y[g(w)]),O(S,"alt",g(w))},[()=>I(g(w))],na),j("click",x,N=>k(N,g(w))),U(l,$)}),m(f),m(v),B(()=>{O(h,"src",y[g(n)]),O(h,"alt",g(n)),M(r,g(_)?" ▼":" ▲"),p=R(f,1,"dropdown-menu svelte-o1suv9",null,p,{open:g(_)})}),j("click",c,d),U(t,v),W(),s()}var Ja=q('<nav class="svelte-1r0tsoa"><!> <ul class="svelte-1r0tsoa"><li><a> </a></li> <li><a> </a></li> <li><a> </a></li></ul></nav>');function Ya(t,a){V(a,!1);const[e,s]=ia(),i=()=>oa(la,"$page",e),n=F(),u=F();G(()=>i(),()=>{E(n,i().data.lang??"et")}),G(()=>g(n),()=>{E(u,g(n)!=="et"?`/${g(n)}`:"")}),ra(),Q();var y=Ja(),I=b(y);Ha(I,{});var _=C(I,2),d=b(_),k=b(d);let v;var c=b(k,!0);m(k),m(d);var h=C(d,2),o=b(h);let r;var f=b(o,!0);m(o),m(h);var p=C(h,2),l=b(p);let w;var $=b(l,!0);m(l),m(p),m(_),m(y),B((x,S,N)=>{v=R(k,1,"btn svelte-1r0tsoa",null,v,{"is-active":x}),O(k,"href",`${P??""}${g(u)??""}/`),M(c,X[g(n)].home),r=R(o,1,"btn svelte-1r0tsoa",null,r,{"is-active":S}),O(o,"href",`${P??""}${g(u)??""}/${A.gallery}`),M(f,X[g(n)].gallery),w=R(l,1,"btn svelte-1r0tsoa",null,w,{"is-active":N}),O(l,"href",`${P??""}${g(u)??""}/${A.contacts}`),M($,X[g(n)].contacts)},[()=>!i().url.pathname.includes(A.gallery)&&!i().url.pathname.includes(A.contacts),()=>i().url.pathname.includes(A.gallery),()=>i().url.pathname.includes(A.contacts)],na),U(t,y),W(),s()}function Z(t){const a=t-1;return a*a*a+1}var at=q("<div><!></div>"),tt=q('<!> <div class="page-switcher"><div class="page-wrapper"><!> <div class="page-shadow"></div></div></div>',1);function ut(t,a){V(a,!1);let e=0;sa.subscribe(o=>{e=o});const s=["home","gallery","contacts"];let i=F(!1),n=F(!1);function u(){E(i,!0),E(n,!1)}function y(){E(n,!1)}Ua(({from:o,to:r})=>{if(o&&r){const f=o.url.pathname.split("/"),p=r.url.pathname.split("/"),l=s.findIndex(x=>f.includes(x));let $=s.findIndex(x=>p.includes(x))-l;$>0?$=1:$<0&&($=-1),sa.set($),$!==0&&E(n,!0)}});function I(o,{duration:r=300}){return{duration:r,css:f=>`
				transform: translateX(${(1-Z(f))*100*e}%);
				opacity: ${Z(f)};
			`}}function _(o,{duration:r=300}){return{duration:r,css:f=>`
				transform: translateX(${(1-Z(f))*-100*e}%);
			`}}Q();var d=tt(),k=Fa(d);Ya(k,{});var v=C(k,2),c=b(v),h=b(c);Ma(h,()=>qa.url,o=>{var r=at();let f;var p=b(r);Ra(p,a,"default",{}),m(r),B(()=>f=R(r,1,"page-container",null,f,{entering:g(i),leaving:g(n)})),ea(1,r,()=>I,()=>({duration:300})),ea(2,r,()=>_,()=>({duration:200})),j("introstart",r,u),j("outroend",r,y),U(o,r)}),La(2),m(c),m(v),U(t,d),W()}export{ut as component,ft as universal};
